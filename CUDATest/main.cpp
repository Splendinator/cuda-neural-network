#include <iostream>
#include <string>
#include <sstream>

#include "Stage.h"
#include "kernel.cuh"



int main()
{

	Stage s(2);
	Stage s2(2, &s);

	s.values[0] = 0.2f;
	s.values[1] = 0.5f;

	s2.weights[0] = 1.0f;
	s2.weights[1] = 2.0f;
	s2.weights[2] = 3.0f;
	s2.weights[3] = 4.0f;

	s2.biases[0] = 0;
	s2.biases[1] = 0;

	//s2.randomise(-8,8,-8,8);
	
	for (int i = 0; i < 2; ++i) {
		std::cout << s2.values[i] << std::endl;
	}

	s2.calculate();

	for (int i = 0; i < 2; ++i) {
		std::cout << s2.values[i] << std::endl;
	}

	int a;
	std::cin >> a;

	return 0;
}


//** GENERATED PERMUTATION TABLE **

//std::string s = "126 10 19 24 83 84 53 190 229 187 220 55 111 204 196 215 163 3 194 33 39 152 234 162 46 239 170 54 72 113 52 60 231 161 223 249 244 41 44 68 31 36 159 158 75 242 177 132 105 2 227 57 134 181 66 106 243 142 241 116 6 189 203 120 148 146 130 193 109 43 139 166 25 200 94 50 226 169 185 76 136 216 178 100 17 73 176 47 91 28 160 254 69 131 4 59 30 195 122 201 89 18 212 86 151 217 5 228 174 154 145 29 197 235 240 61 48 102 99 250 123 213 208 247 248 63 246 137 51 141 233 147 255 26 214 191 127 138 110 9 140 62 104 198 150 103 192 225 115 70 37 165 184 121 232 90 107 96 85 251 65 114 143 224 167 13 186 180 67 207 153 156 38 12 222 128 92 74 230 16 175 7 88 0 58 171 135 219 118 205 206 164 40 179 15 27 8 218 129 119 236 188 20 56 45 23 149 199 97 155 32 98 21 209 1 245 71 237 173 124 49 211 253 238 172 144 22 210 117 42 64 78 35 202 168 82 79 101 95 77 11 93 183 87 80 81 133 125 108 34 112 14 252 221 182 157";

//std::stringstream ss(s);

//int p[256];
//int prev = 157;
//int curr = 0;

//while (!ss.eof()) {
//	ss >> curr;
//	prev = p[prev] = curr;
//}

//curr = p[0];
//for (int i = 0; i < 256; ++i) {
//	std::cout << p[i] << std::endl;
//}